<a href='https://s-lucien.github.io/imitate-Bilibili/'>Click here to preview</a>  

目录

[一、 网站项目说明](#网站项目说明)

[二、 网站各项目详细说明](#网站各项目详细说明)

[1. 网站内容完整性](#网站内容完整性)

[1.1网页完整性](#11网页完整性)

[1.2 主页完整性](#主页完整性)

[1.3 网页元素多样性](#网页元素多样性)

[2. 网站样式设计说明](#网站样式设计说明)

[2.1整体设计](#21整体设计)

[2.2 元素样式设计](#22-元素样式设计)

[3. 网站交互功能](#网站交互功能)

[3.1 数据验证](#31-数据验证)

[3.2 用户状态](#32-用户状态)

[3.3 图片切换](#33-图片切换)

[3.4 图形绘制](#34-图形绘制)

[3.5 浮动](#35-浮动)

[3.6 拖放](#36-拖放)

[3.7分页导航](#37分页导航)

[4. 特色](#特色)

[4.1 设计亮点](#41-设计亮点)

[4.2技术亮点](#42技术亮点)

## 网站项目说明

网站基于Html5、CSS3和原生JavaScript实现，参照Bilibili的设计，并包含各种常用元素、样式、交互功能，内容丰富，可供前端入门人员参照学习。

网站整体结构如下：

![](https://s2.loli.net/2023/03/03/lBP6RKa8GYm1dpN.png)

## 网站各项目详细说明

### 网站内容完整性

#### 1.1网页完整性

登录页面：

![](https://s2.loli.net/2023/03/03/MGOYZzbxpm5KBCa.png)

联系页面：

![](https://s2.loli.net/2023/03/03/L2y4xfSohHzTjV9.png)

主页面：

![](https://s2.loli.net/2023/03/03/DWn6iPvf1V8Fqar.png)

分类展示页面-番剧：

![](https://s2.loli.net/2023/03/03/aSUBOveIypVD8H2.png)

分类展示页面-游戏中心：

![](https://s2.loli.net/2023/03/03/Tw2BuRLWAIPFrJs.png)

视频详情页：

![](https://s2.loli.net/2023/03/03/6txIMK42rugOWJv.png)

#### 主页完整性

页眉区：

![](https://s2.loli.net/2023/03/03/iB4lnyVvJZsQpu6.png)

Banner广告区：

![](https://s2.loli.net/2023/03/03/6G8lzJSXydoRVcB.jpg)

正文区：

![](https://s2.loli.net/2023/03/03/9H5daUWNhiFLT2P.png)

副栏区：

![](https://s2.loli.net/2023/03/03/a4GjMrW1PmVLkUd.png)

页脚区：

![](https://s2.loli.net/2023/03/03/5EIaUOuzBrSwgQR.png)

#### 网页元素多样性

列表（ul）：

![](https://s2.loli.net/2023/03/03/JK3vgEZtwUjMPpX.png)

图文混排：

![](https://s2.loli.net/2023/03/03/KTam1oZjB2GDQtN.png)

视频：

![](https://s2.loli.net/2023/03/03/1P8vNRukIwnQf4B.png)

Canvas：

![](https://s2.loli.net/2023/03/03/WzgSC9pfmeaLZx5.png)

### 网站样式设计说明

#### 2.1整体设计

Dilidili整体以白色为主色调，纯净、简约兼容性好，有效突出网站内容。各个分页面布局与边距等设计不尽相同，以下一一介绍。

主页：

主页整体分为三个部分：header、main和footer。

Header部分包括导航栏、banner以及channel三个部分。导航栏整体采用flex布局，左边导航链接部分为横向排列的ul列表，紧接着是搜索框，最右边的用户部分采用绝对位置布局。背景为banner。Channel部分也采用flex布局，外边距与内边距为55px左右，使channel部分整体位于中央，排列紧凑。

Main部分宽1400px，左右内边距56px，包含推荐区、推广区、直播区、番剧区、漫画区、游戏区六大模块。这六个模块均采用grid布局，模块间存在56px的下内边距。具体行列数各分区略有不同。以下以推荐区与直播区为例介绍。

推荐区分为2行5列共10个小网格，其中左边为切换广告，占2行2列4个网格；右边为6个推荐视频，每个视频占1个小网格。直播区整体采用网格布局，分为左右两部分共5列，其中左侧推荐直播占4列，右边排行榜部分占1列。推荐直播内部又分为2行4列共8个小网格，每个推荐主播占1个网格。小网格间上下边距为6px，左右边距为12px。排行榜部分分为上下两块，上方为标题即“排行榜”，下方采用纵向列表布局。列表详细内容在元素样式中说明。其他模块布局与直播区类似，此处不再赘述。

Footer部分较为简单，主要由文字构成，包含联系我们等链接以及版权说明等，文字局中布局。左右外边距为15px，上下内边距为30px。

分页面-番剧：

除导航栏外，页面整体分为上下两块，采用流式布局。上方为banner区，采用justify-content属性将其居中，宽度为整个页面的75%。下方内容区同样采用flex布局，上边距20px与banner区隔开，宽度与其保持一致。内容区又分为左右两部分，均采用float：left布局。

分页面-游戏中心：

页面同样分为上下两块，上方banner区采用默认布局（div block），宽度100%，高度为固定值，无左右边距，详细内容将在后面介绍。下方同样为block布局，宽度为固定值1160px，左右外边距为auto，使其自动居于中央。

视频详情页：

页面分为左右两块，用一个流式布局的div包含，并设置justify-content属性为center使左右两部分相中靠拢，从而无需设置左右边距。左边为视频区域，右边为up主信息与推荐视频，整体都采用默认的block布局，从上而下排列。

联系我们页面：

该页面较为简单，仅包含导航栏、一张背景图片与信息表单，表单使用绝对位置居于页面中央，表单内每行均为block布局，整体文字靠左排列。

收藏页面：

整体分为上下两块，采用flex布局并设置justify-content属性使页面元素居中。上方图片区域采用grid布局，2行2列共4个小网格，每张图片占一个网格。下方分页切换控件采用绝对位置布局，使其位于图片下方、居中排列。

#### 2.2 元素样式设计

导航链接样式设计：

导航栏分为左边分类页面导航链接、中间搜索框和右边用户区三个部分，各个部分均为绝对位置布局，不含背景图片高度60px，浮动于页面最上方。

左边的分类链接区为横向排列的ul列表，采用flex布局，列表元素间左内边距10px。当鼠标悬停在“番剧”和“直播”两个链接上时将出现下拉框。下拉框宽500px，高300px，采用flex布局，分为左右两块，中间用浅灰色线隔开。左边宽350px，内边距20px，采用grid布局，共2列2行，每张图片及其标题占1个网格；右边为列表，包含若干项。

中间搜索框宽446px，高36px，背景为白色，紧接着是浅灰色的搜索button。右边用户区由登录、注册和投稿三个链接构成，内部采用flex布局；登录后则变为用户头像、收藏和投稿三个部分。其中投稿页面尚未实装。

当滚轮位于最上方时，导航栏内文字颜色为白色，背景为透明，与背景图融为一体。滚轮向下移动离开页面最上方时，导航栏内文字颜色变为黑色，背景颜色变为浅灰色，浮于页面最上层。如下图所示：

![](https://s2.loli.net/2023/03/03/hVN49LIgKYROtyz.png)

![](https://s2.loli.net/2023/03/08/vRVuSdO5P7Hq9t1.png)

图 22.1 导航栏样式

广告样式设计：

Dilidili共有三种广告样式，此处只介绍第二种。效果如下图所示：

![](https://s2.loli.net/2023/03/03/oRaFjOLbWy9UuwT.png)

整个banner区域采用flex布局，并设置justify-content属性为center，使其居中。Banner宽度为75%，内部使用dl列表，并设置position属性为relative。列表内含dt和dd两部分。

dt部分即为右下角的切换控件，内含4个anchor元素，每个anchor元素由一张小封面构成，宽64px，高48px，右边距5px，边框2px 白色。当鼠标悬停在小封面上方时，其边框颜色变为红色，且自动切换为对应的图片。

dd部分由图片及其左下角的介绍构成。图片铺满整个banner区域，位于底层。左下角介绍部分文字为白色，字体大小18px，为避免图片颜色干扰，对文字的背景设置了由黑到白的渐变色，并设置了背景虚化。

图文混排样式设计：

以如下样式为例介绍：

![](https://s2.loli.net/2023/03/03/TAdIUluaGe6S9jD.png)

区域顶部为高1px的灰色分割线，下方内容区与其间距为16px。内容区分为左右两部分。左边为宽高固定的图片，图片包含于anchor中。为anchor设置向左浮动（float：left）属性，使文字可以居于图片右方。右边文字自上而下分为5个小块。除了简介部分为detail外，其他均包含于div中。各个部分的文字在颜色、大小、字宽、行高、内外边距等方面各有差异，详情不再赘述。

### 网站交互功能

#### 3.1 数据验证

登录页使用JavaScript对输入的密码进行验证，密码为‘123456’时即可登陆成功。

联系我们页面主要通过input标签的pattern属性对姓名和手机号码进行校验。

其中姓名校验方式如下，其含义为2\~4个中文字符：

pattern="\^[\\u4e00-\\u9fa5][\\u4e00-\\u9fa5]{0,2}[\\u4e00-\\u9fa5]\$"

手机号校验方式如下，根据各个运营商的号码区段进行校验，最长11位：

pattern="\^(13[0-9]\|14[01456879]\|15[0-35-9]\|16[2567]\|17[0-8]\|18[0-9]\|19[0-35-9])\\d{8}\$" maxlength=“11”

#### 3.2 用户状态

登录后，导航栏右边用户区发生变化，显示用户的用户名、头像、收藏页链接。如下图所示：

![](https://s2.loli.net/2023/03/03/WtHuXJ4Zl5Dad6g.png) --\> ![](https://s2.loli.net/2023/03/03/fJ6bT1GXBKZmxdy.png)

登陆成功时，通过js将用户名存入sessionStorage中，跳转到各个页面时，从sessionStorage中读出用户名并将其作为文本替换原来的‘登录’；将‘注册’元素隐藏并显示‘收藏’。

#### 3.3 图片切换

本网站中共有三种图片切换效果，此处介绍较为简单的两种，分别位于主页和番剧页面。

广告主体由一个img元素和一个span元素组成，分别用于显示图片及其标题。另外在右下方设置四个控件，用于图片切换。

首先定义iCount标记当前图片id，定义自动切换函数carousel，通过getElementById获取存放图片的img元素和存放标题的span元素，并将其内图片和标题设置为下一张图片，然后使iCount++。如果iCount\>图片数就将其置为1，循环播放图片。通过setInterval函数设置自动切换时间为2s。

然后定义change函数，其功能是根据用户指定的控件切换图片，并更改控件的样式以突出当前播放图片的位置。为每一个空间添加onclick或onmouseover事件，事件内调用change函数，并将iCount修改为对应值。

#### 3.4 图形绘制

利用canvas实现视频截图功能。首先需要为canvas设置width和height属性指定画布的大小。然后为截图按钮添加单击事件：单击后，首先获取视频元素和canvas元素，通过canvas.getContext（‘2d’）函数获取canvas对象，然后用其内置的drawImage函数指定图片来源，并指定绘制图片的位置和宽高，就可以将图片绘制在canvas元素内。

#### 3.5 浮动

为导航栏设置浮动效果。首先需将导航栏设置为fixed布局。然后通过window.onscroll方法为滚动条添加事件：通过id获取导航栏元素。当滚动条移动时，通过document.documentElement.scrollTop方法获取滚动条与页面顶端的距离，当滚动条不处于页面顶端时，将导航栏背景颜色设置为浅灰色，并将导航栏内所有字体颜色修改为黑色，避免文字溶于背景。当滚轮回到页面顶端时，再将导航栏背景修改为transparent，其内所有文字颜色修改回白色。

#### 3.6 拖放

首先为3.4中的canvas元素添加dragstart监听事件，拖放开始时通过事件的dataTransfer对象的setData方法将canvas中数据以‘text/html’形式存入。

然后为导航栏中的‘收藏’元素添加drop监听事件：通过dataTransfer的getData方法获取存入的数据，并将数据以JSON对象的形式存入localStorage中，以便后续收藏页面加载数据。详情将在后面介绍。

此外还需将要拖放的元素的dragable属性设置为true，通过preventDefault方法取消默认的ondragover和ondrop方法。

#### 3.7分页导航

主要实现收藏页面的分页功能。3.6中提到将截图拖放至‘收藏’处即可将截图存入localStorage，此处将所有图片从localStorage中读出，然后按4张图片一页设置若干分页，并按照页面数添加上一页、下一页以及对应若干个分页按钮。定义page变量标记当前分页号。然后使用getElementByName方法获取所有分页按钮（按钮具有相同的名字，其在数组的下标值即为分页号），然后通过IIFE（Immediately Invoked Function Expression，此处用于解决循环内添加事件不能正常执行的问题）为所有按钮添加单击事件：改变按钮边框以突出当前分页号，并通过Switch方法更换分页。更换方法为：将当前分页的display属性设置为none，将其隐藏，然后显示要切换的分页。

显示效果如下：

![](https://s2.loli.net/2023/03/03/gcEX6PF93tofr1e.png)

### 特色

#### 4.1 设计亮点

广告切换效果：

游戏中心页面广告设计如下图所示：

![](https://s2.loli.net/2023/03/03/TnmRUwyVSEaMZNo.jpg)

广告由三张图片构成，为每张图片设置不同的z-index值，并分别调整顶层于底层图片的box-shadow与brightness值，然后利用translateX调整三张图片在X轴的偏移量使看起来其层次分明。

自顶向下图片的z-index值分别为989、979、969，当图片切换时，三张图片逆时针转动，顶层图片宽高、亮度变为原来的75%，z-index值变为979，通过调整translateX值使其向左移动，并设置transition属性为0.3s，即在0.3s时间完成切换，从而表现出动态的切换效果。

#### 4.2技术亮点

伸缩盒子：效果如下：

![](https://s2.loli.net/2023/03/03/r4pvAuJkUmeHD92.jpg)![](https://s2.loli.net/2023/03/03/H79ugpRqjAYDGs1.png)

当鼠标悬停在区域上时，内部的简介‘弹出’，并设置其边框的阴影效果，表现出伸缩的效果。具体实现为：初始时将简介部分高度设置为0，整个标签设置上边距16px；当鼠标悬停时，将简介部分高度设置为16px，并将上边距调整为0、设置阴影效果，使得交互效果更加明显。

简易评论区：

效果如下：

![](https://s2.loli.net/2023/03/03/6XOwKBREYeMbmyV.png)

为‘发布’按钮添加单击事件：判断输入框内是否为空，如果为空则用focus方法使输入框成为焦点；否则调用loadStorage方法，将评论内容及评论时间以JSON格式存入localStorage。该方法在页面加载完毕或点击发布后，从localStorage中读出所有评论，然后封装在div元素中，通过innerHtml方法将所有评论加载到评论区。

截图收藏：

前置的截图、拖放、分页功能已经在上面阐述过，此处不再赘述。另外要提的一点是，在canvas拖放到收藏位置时，使用canvas的toDataUrl方法将图片以url形式封装于img标签中，然后与收藏时间一起添加进localStorage的pictures中。这里主要介绍收藏页图片的加载与删除。

定义count变量标记分页数，然后从localStorage中将所有存入的图片读出，按照4张图片一个分页的方式动态设置分页与分页导航按钮（页面主体为网格布局，2行2列），并为每张图片设置一个删除按钮。然后通过getElementByName方法获取按钮数组，并为所有分页导航按钮与删除按钮添加单击事件。当点击删除后，由于删除按钮在数组中的index与图片的index对应，单击后调用splice方法将图片从图片数组中删除，并更新到localStorage中。然后调用reload方法刷新页面，即可实现删除功能。

页面效果如下，详情可打开页面体验：

![](https://s2.loli.net/2023/03/03/uAo9IzkH5DM7prV.png)